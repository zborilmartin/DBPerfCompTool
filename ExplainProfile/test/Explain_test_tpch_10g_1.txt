------------------------------ 
QUERY PLAN DESCRIPTION: 
------------------------------

EXPLAIN -- $ID$
 -- TPC-H/TPC-R Pricing Summary Report Query (Q1)
 -- Functional Query Definition
 -- Approved February 1998
 
 select  /*+ label(monitoring_tpch_query_1) */ l_returnflag, l_linestatus, sum(l_quantity) as sum_qty, sum(l_extendedprice) as sum_base_price, sum(l_extendedprice * (1 - l_discount)) as sum_disc_price, sum(l_extendedprice * (1 - l_discount) * (1 + l_tax)) as sum_charge, avg(l_quantity) as avg_qty, avg(l_extendedprice) as avg_price, avg(l_discount) as avg_disc, count(*) as count_order from tpch_10g.lineitem where l_shipdate <= date '1998-12-01' - interval '106' day group by l_returnflag, l_linestatus order by l_returnflag, l_linestatus LIMIT 1; -- using 1459869488 as a seed to the RNG
 


Access Path:
+-SELECT  LIMIT 1 [Cost: 811K, Rows: 1] (PATH ID: 0)
|  Output Only: 1 tuples
| +---> GROUPBY HASH (SORT OUTPUT) (LOCAL RESEGMENT GROUPS) [Cost: 811K, Rows: 3] (PATH ID: 2)
| |      Aggregates: sum(lineitem.L_QUANTITY), sum(lineitem.L_EXTENDEDPRICE), sum((lineitem.L_EXTENDEDPRICE * (1 - lineitem.L_DISCOUNT))), sum(((lineitem.L_EXTENDEDPRICE * (1 - lineitem.L_DISCOUNT)) * (1 + lineitem.L_TAX))), sum_float(lineitem.L_QUANTITY), count(lineitem.L_QUANTITY), sum_float(lineitem.L_EXTENDEDPRICE), count(lineitem.L_EXTENDEDPRICE), sum_float(lineitem.L_DISCOUNT), count(lineitem.L_DISCOUNT), count(*)
| |      Group By: lineitem.L_RETURNFLAG, lineitem.L_LINESTATUS
| | +---> STORAGE ACCESS for lineitem [Cost: 740K, Rows: 59M] (PATH ID: 3)
| | |      Projection: tpch_10g.LINEITEM_super
| | |      Materialize: lineitem.L_QUANTITY, lineitem.L_EXTENDEDPRICE, lineitem.L_DISCOUNT, lineitem.L_TAX, lineitem.L_RETURNFLAG, lineitem.L_LINESTATUS
| | |      Filter: (lineitem.L_SHIPDATE <= '1998-08-17 00:00:00'::timestamp)


------------------------------ 
----------------------------------------------- 
PLAN: BASE QUERY PLAN (GraphViz Format)
----------------------------------------------- 
digraph G {
graph [rankdir=BT, label = "BASE QUERY PLAN\nQuery: EXPLAIN -- $ID$\n -- TPC-H/TPC-R Pricing Summary Report Query (Q1)\n -- Functional Query Definition\n -- Approved February 1998\n \n select  /*+ label(monitoring_tpch_query_1) */ l_returnflag, l_linestatus, sum(l_quantity) as sum_qty, sum(l_extendedprice) as sum_base_price, sum(l_extendedprice * (1 - l_discount)) as sum_disc_price, sum(l_extendedprice * (1 - l_discount) * (1 + l_tax)) as sum_charge, avg(l_quantity) as avg_qty, avg(l_extendedprice) as avg_price, avg(l_discount) as avg_disc, count(*) as count_order from tpch_10g.lineitem where l_shipdate \<= date \'1998-12-01\' - interval \'106\' day group by l_returnflag, l_linestatus order by l_returnflag, l_linestatus LIMIT 1; -- using 1459869488 as a seed to the RNG\n \n\n\nAll Nodes Vector: \n\n  node[0]=v_verticadb_node0001 (initiator) Up\n", labelloc=t, labeljust=l ordering=out]
0[label = "Root \nOutBlk=[UncTuple(10)]", color = "green", shape = "house"];
1[label = "NewEENode \nOutBlk=[UncTuple(10)]", color = "green", shape = "box"];
2[label = "TopK[PIPELINED]\n Sort: (keys = )\nLIMIT: 1\nOffset: 0\nUnc: Char(1)\nUnc: Char(1)\nUnc: Numeric(15,2)\nUnc: Numeric(15,2)\nUnc: Numeric(35,4)\nUnc: Numeric(55,6)\nUnc: Float(8)\nUnc: Float(8)\nUnc: Float(8)\nUnc: Integer(8)", color = "green", shape = "box"];
3[label = "ExprEval: \n  lineitem.L_RETURNFLAG\n  lineitem.L_LINESTATUS\n  \<SVAR\>\n  \<SVAR\>\n  \<SVAR\>\n  \<SVAR\>\n  (\<SVAR\> / float8(\<SVAR\>))\n  (\<SVAR\> / float8(\<SVAR\>))\n  (\<SVAR\> / float8(\<SVAR\>))\n  \<SVAR\>\nUnc: Char(1)\nUnc: Char(1)\nUnc: Numeric(15,2)\nUnc: Numeric(15,2)\nUnc: Numeric(35,4)\nUnc: Numeric(55,6)\nUnc: Float(8)\nUnc: Float(8)\nUnc: Float(8)\nUnc: Integer(8)", color = "green", shape = "box"];
4[label = "ParallelMergeStep: 2 sorted\nCombine\nUnc: Char(1)\nUnc: Char(1)\nUnc: Numeric(15,2)\nUnc: Numeric(15,2)\nUnc: Numeric(35,4)\nUnc: Numeric(55,6)\nUnc: Float(8)\nUnc: Integer(8)\nUnc: Float(8)\nUnc: Integer(8)\nUnc: Float(8)\nUnc: Integer(8)\nUnc: Integer(8)", color = "green", shape = "box"];
5[label = "GroupByHash(Sort Groups)(Spill): 2 keys\nAggs:\n  sum(lineitem.L_QUANTITY)\n  sum(lineitem.L_EXTENDEDPRICE)\n  sum((lineitem.L_EXTENDEDPRICE * (1 - lineitem.L_DISCOUNT)))\n  sum(((lineitem.L_EXTENDEDPRICE * (1 - lineitem.L_DISCOUNT)) * (1 + lineitem.L_TAX)))\n  sum_float(lineitem.L_QUANTITY)\n  count(lineitem.L_QUANTITY)\n  sum_float(lineitem.L_EXTENDEDPRICE)\n  count(lineitem.L_EXTENDEDPRICE)\n  sum_float(lineitem.L_DISCOUNT)\n  count(lineitem.L_DISCOUNT)\n  count(*)\nUnc: Char(1)\nUnc: Char(1)\nUnc: Numeric(15,2)\nUnc: Numeric(15,2)\nUnc: Numeric(35,4)\nUnc: Numeric(55,6)\nUnc: Float(8)\nUnc: Integer(8)\nUnc: Float(8)\nUnc: Integer(8)\nUnc: Float(8)\nUnc: Integer(8)\nUnc: Integer(8)", color = "green", shape = "box"];
6[label = "StorageUnionStep: LINEITEM_super\nLocally Resegment\nUnc: Char(1)\nUnc: Char(1)\nUnc: Numeric(15,2)\nUnc: Numeric(15,2)\nUnc: Numeric(35,4)\nUnc: Numeric(55,6)\nUnc: Float(8)\nUnc: Integer(8)\nUnc: Float(8)\nUnc: Integer(8)\nUnc: Float(8)\nUnc: Integer(8)\nUnc: Integer(8)", color = "purple", shape = "box"];
7[label = "GroupByPipe(HashPrepass): 2 keys\nAggs:\n  sum(lineitem.L_QUANTITY)\n  sum(lineitem.L_EXTENDEDPRICE)\n  sum((lineitem.L_EXTENDEDPRICE * (1 - lineitem.L_DISCOUNT)))\n  sum(((lineitem.L_EXTENDEDPRICE * (1 - lineitem.L_DISCOUNT)) * (1 + lineitem.L_TAX)))\n  sum_float(lineitem.L_QUANTITY)\n  count(lineitem.L_QUANTITY)\n  sum_float(lineitem.L_EXTENDEDPRICE)\n  count(lineitem.L_EXTENDEDPRICE)\n  sum_float(lineitem.L_DISCOUNT)\n  count(lineitem.L_DISCOUNT)\n  count(*)\nUnc: Char(1)\nUnc: Char(1)\nUnc: Numeric(15,2)\nUnc: Numeric(15,2)\nUnc: Numeric(35,4)\nUnc: Numeric(55,6)\nUnc: Float(8)\nUnc: Integer(8)\nUnc: Float(8)\nUnc: Integer(8)\nUnc: Float(8)\nUnc: Integer(8)\nUnc: Integer(8)", color = "brown", shape = "box"];
8[label = "ExprEval: \n  lineitem.L_RETURNFLAG\n  lineitem.L_LINESTATUS\n  lineitem.L_QUANTITY\n  lineitem.L_EXTENDEDPRICE\n  (lineitem.L_EXTENDEDPRICE * (1 - lineitem.L_DISCOUNT))\n  ((lineitem.L_EXTENDEDPRICE * (1 - lineitem.L_DISCOUNT)) * (1 + lineitem.L_TAX))\n  lineitem.L_QUANTITY\n  lineitem.L_QUANTITY\n  lineitem.L_EXTENDEDPRICE\n  lineitem.L_EXTENDEDPRICE\n  lineitem.L_DISCOUNT\n  lineitem.L_DISCOUNT\n  1\nUnc: Char(1)\nUnc: Char(1)\nUnc: Numeric(15,2)\nUnc: Numeric(15,2)\nUnc: Numeric(35,4)\nUnc: Numeric(55,6)\nUnc: Numeric(15,2)\nUnc: Numeric(15,2)\nUnc: Numeric(15,2)\nUnc: Numeric(15,2)\nUnc: Numeric(15,2)\nUnc: Numeric(15,2)\nUnc: Integer(8)", color = "brown", shape = "box"];
9[label = "ScanStep: LINEITEM_super\n(lineitem.L_SHIPDATE \<= \'1998-08-17 00:00:00\'::timestamp)\nL_QUANTITY\nL_EXTENDEDPRICE\nL_DISCOUNT\nL_TAX\nL_RETURNFLAG\nL_LINESTATUS\nL_SHIPDATE (not emitted)\nUnc: Numeric(15,2)\nUnc: Numeric(15,2)\nUnc: Numeric(15,2)\nUnc: Numeric(15,2)\nUnc: Char(1)\nUnc: Char(1)", color = "brown", shape = "box"];
1->0 [label = "V[0] C=10",color = "black",style="bold", arrowtail="inv"];
2->1 [label = "0",color = "blue"];
3->2 [label = "0",color = "blue"];
4->3 [label = "0",color = "blue"];
5->4 [label = "0",color = "blue"];
6->5 [label = "0",color = "blue"];
7->6 [label = "0",color = "blue"];
8->7 [label = "0",color = "blue"];
9->8 [label = "0",color = "blue"];
}
